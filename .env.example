# Backend Environment Variables Example
DATABASE_URL="postgresql://user:password@localhost:5432/attendance_db"
JWT_SECRET="your_jwt_secret_here"
CREDENTIALS_SECRET="your_credentials_secret_here"
PORT=5000
NODE_ENV=development

# Auth cookie (prod)
AUTH_COOKIE_NAME="auth_token"
AUTH_COOKIE_TTL_SECONDS=604800
AUTH_RETURN_TOKEN_IN_PROD=false

# Desktop agent pairing
AGENT_PAIRING_TTL_MINUTES=10
AGENT_TOKEN_TTL_SECONDS=1800

# CORSOrigins (comma separated)
CORS_ORIGINS="http://localhost:5173"

# MediaMTX Settings
MEDIAMTX_AUTO_START=true
MEDIAMTX_DEPLOY_ENABLED=true
MEDIAMTX_DEPLOY_ALLOW_RESTART_COMMANDS=false
WEBRTC_BASE_URL="http://localhost:8889"

# Devices (FaceID terminals)
# Auto-register devices in DB when first valid webhook event arrives.
DEVICE_AUTO_REGISTER_ENABLED=false

# Webhook security
# Require timestamp + nonce headers (x-webhook-timestamp, x-webhook-nonce)
WEBHOOK_REQUIRE_SIGNATURE=false
WEBHOOK_TIMESTAMP_TOLERANCE_SECONDS=120
WEBHOOK_IDEMPOTENCY_TTL_SECONDS=600
# For security, keep disabled in production
WEBHOOK_ALLOW_PICTURES=false
# Optional IP allowlist (comma separated). Use with reverse proxy only.
WEBHOOK_IP_ALLOWLIST=""
WEBHOOK_TRUST_PROXY=false
